package com.kkl.kklplus.golden.mapper;

import com.kkl.kklplus.golden.entity.GoldenSettlements;
import org.apache.ibatis.annotations.MapKey;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;

import java.util.List;
import java.util.Map;

@Mapper
public interface GoldenSettlementsMapper {

    List<GoldenSettlements> select(Object parameter);

    Integer insert(GoldenSettlements goldenSettlements);

    GoldenSettlements selectOne(@Param("withdrawNo") String withdrawNo);

    GoldenSettlements selectById(Long id);


    void update(GoldenSettlements goldenSettlements);

    /**
     * 关闭退款
     * @param id
     * @param updateById
     * @param updateDt
     * @return
     */
    Integer closeRefund(@Param("id") Long id,
                        @Param("updateById") Long updateById,
                        @Param("updateDt") long updateDt);

    /**
     * 批量查询付款单对应的结算单信息
     * @param withdrawIds
     * @return
     */
    @MapKey("withdrawId")
    Map<Long, GoldenSettlements> batchSearchSettlementsByWithdrawIds(@Param("withdrawIds") List<Long> withdrawIds);

    /**
     * 更新为执行中
     * @param id
     * @return
     */
    Integer updateStatusToExecute(@Param("id") Long id);

    /**
     * 请求结果更新
     * @param goldenSettlements
     * @return
     */
    Integer updateReqResult(GoldenSettlements goldenSettlements);


    /***
     * 不能逆向改状态
     */
    Integer updateByStatus(GoldenSettlements goldenSettlements);


    /**
     * 退款更新
     * @param goldenSettlements
     */
    Integer updateResult(GoldenSettlements goldenSettlements);



}
